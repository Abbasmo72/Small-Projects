### نظارت شبکه
این کد یک اسکریپت برای نظارت بر ترافیک شبکه است که از کتابخانه scapy برای دریافت و تحلیل بسته‌های شبکه استفاده می‌کند. کد به این صورت عمل می‌کند:
### بخش‌های مختلف کد:
## 1. وارد کردن کتابخانه‌ها:
- کتابخانه scapy.all: برای استفاده از ابزارهای مرتبط با شبکه مانند sniff (برای دریافت بسته‌های شبکه)، get_if_list (برای گرفتن لیست رابط‌های شبکه) و conf (برای تنظیمات پیکربندی شبکه).
- کتابخانه datetime: برای دریافت تاریخ و زمان فعلی.
- کتابخانه threading.Thread: برای اجرای نظارت شبکه در یک نخ جداگانه (برای انجام همزمان عملیات).
- کتابخانه json: برای نوشتن داده‌ها در فرمت JSON به فایل.
- کتابخانه time: برای اندازه‌گیری مدت زمان اجرا.
## 2. تشخیص دسترسی غیرمجاز
- تابع detect_unauthorized_access وظیفه پردازش هر بسته دریافتی را دارد:
    - در این تابع، زمان فعلی در قالبی استاندارد (YYYY-MM-DD HH:MM:SS) ثبت می‌شود.
    - خلاصه‌ای از اطلاعات بسته با استفاده از متد packet.summary() استخراج می‌شود.
    - داده‌های جمع‌آوری‌شده در قالب یک شی JSON (شامل زمان و خلاصه بسته) ذخیره می‌شوند.
    - فایل لاگ (network_logs.json) به‌صورت الحاقی باز می‌شود و اطلاعات به آن اضافه می‌گردد.
    - اگر خطایی در فرآیند ذخیره‌سازی رخ دهد، برنامه با پیام خطا کاربر را مطلع می‌کند.
## 3. پایش شبکه
- تابع monitor_network ترافیک شبکه را بررسی می‌کند:
   - کاربر می‌تواند رابط شبکه (interface)، مدت زمان پایش و نوع بسته‌های هدف (فیلتر بسته‌ها) را مشخص کند.
   - اگر کاربر رابط خاصی انتخاب نکند، برنامه از رابط پیش‌فرض سیستم استفاده می‌کند.
   - با استفاده از sniff (تابعی از Scapy)، بسته‌ها دریافت می‌شوند و برای هر بسته، تابع detect_unauthorized_access فراخوانی می‌شود.
   - گزینه‌های store=False و timeout=duration تضمین می‌کنند که حافظه بیهوده اشغال نشود و فرآیند پایش محدود به زمان تعیین‌شده باشد.
## 4. اجرای پایش
- تابع monitor_in_thread عملیات پایش شبکه را در یک نخ جداگانه اجرا می‌کند:
  - این طراحی اجازه می‌دهد که برنامه اصلی مسدود نشود و به تعامل با کاربر ادامه دهد.
  - برای هر عملیات پایش، یک نخ جدید ایجاد شده و پس از پایان، به برنامه اصلی بازمی‌گردد.
 ## 5. ورودی کاربر و تنظیمات برنامه
- در بخش اصلی برنامه:
  - لیست رابط‌های شبکه با استفاده از get_if_list نمایش داده می‌شود.
  - کاربر می‌تواند رابط شبکه و مدت زمان پایش را تعیین کند. اگر اطلاعات واردشده نامعتبر باشد، برنامه از مقادیر پیش‌فرض استفاده می‌کند.
  - فیلتر بسته‌ها نیز یک ورودی اختیاری است که امکان تحلیل دقیق‌تر را فراهم می‌کند.
- ویژگی‌های قابل توجه:
  - نمایش رابط‌های موجود، کاربر را در انتخاب رابط مناسب یاری می‌کند.
  - مقادیر پیش‌فرض، برنامه را برای استفاده آسان‌تر توسط کاربران مبتدی مناسب می‌سازد.
## 6. لاگ‌ها و مدت زمان اجرا
- زمان شروع و پایان فرآیند پایش ثبت می‌شود تا مدت زمان اجرای برنامه محاسبه شود.
- در انتها، کاربر مطلع می‌شود که لاگ‌ها در کجا ذخیره شده‌اند.
