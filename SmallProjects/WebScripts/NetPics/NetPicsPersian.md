### دانلود تصاویر از یک وب‌سایت با استفاده از Python
کد ارائه‌شده یک اسکریپت پایتونی برای دانلود تصاویر از یک صفحه وب مشخص است. این کد از کتابخانه‌های requests، BeautifulSoup و os برای ارسال درخواست به وب‌سایت، پردازش HTML و ذخیره فایل‌ها استفاده می‌کند.

## 1. دریافت ورودی از کاربر
کد ابتدا دو مقدار ورودی از کاربر دریافت می‌کند:
- قسمت website_url: آدرس وب‌سایت موردنظر
- قسمت folder_name: نام پوشه‌ای که تصاویر در آن ذخیره خواهند شد
## 2.  ساخت پوشه ذخیره‌سازی
- قبل از دانلود تصاویر، برنامه بررسی می‌کند که آیا پوشه‌ی مشخص‌شده توسط کاربر وجود دارد یا نه. در صورت عدم وجود، با استفاده از os.makedirs(folder_name) این پوشه را ایجاد می‌کند.
## 3. دریافت محتوای HTML و استخراج تصاویر
- برنامه با استفاده از requests.get(url) صفحه وب را دریافت کرده و سپس آن را به کمک BeautifulSoup تجزیه می‌کند.
- تمام تگ‌های <img> از صفحه استخراج می‌شوند.
## 4. فیلتر کردن و پردازش URL تصاویر
- ابتدا src مربوط به هر تصویر دریافت می‌شود.
- اگر مقدار src وجود نداشت، از آن رد می‌شود.
- در صورت نسبی بودن URL تصویر، آن را با urljoin(url, img_url) به یک آدرس کامل تبدیل می‌کند.
- فقط فرمت‌های .png و .jpg مجاز هستند و سایر تصاویر نادیده گرفته می‌شوند.
## 5. ذخیره تصاویر در پوشه مشخص‌شده
- نام فایل از URL تصویر استخراج شده و کاراکترهای نامعتبر در نام فایل با _ جایگزین می‌شوند.
- تصویر از طریق requests.get(img_url).content دریافت شده و در مسیر مشخص‌شده ذخیره می‌شود.
- در صورت موفقیت، پیام دانلود نمایش داده می‌شود.
- در صورت خطا هنگام دانلود، پیام مناسب نمایش داده خواهد شد.
### نتیجه‌گیری
این اسکریپت ابزاری ساده اما کاربردی برای استخراج و ذخیره تصاویر از صفحات وب است. با برخی بهینه‌سازی‌ها، می‌توان آن را برای کارهای پیچیده‌تر و حرفه‌ای‌تر بهبود بخشید.
<hr>

## کد پایتون
```python
import os
import requests
from bs4 import BeautifulSoup
from urllib.parse import urljoin
import re

def download_images(url, folder_name):
    # بررسی اینکه آیا فولدر وجود دارد یا نه
    if not os.path.exists(folder_name):
        os.makedirs(folder_name)  # ساخت فولدر در صورت عدم وجود

    # درخواست برای دریافت HTML صفحه
    response = requests.get(url)
    soup = BeautifulSoup(response.text, 'html.parser')

    # پیدا کردن تمام تگ‌های img در صفحه
    img_tags = soup.find_all('img')

    for img in img_tags:
        # گرفتن آدرس تصویر از تگ
        img_url = img.get('src')
        if not img_url:
            continue  # اگر URL تصویر وجود نداشت، ادامه بده
        img_url = urljoin(url, img_url)  # کامل کردن URL تصویر در صورت نسبی بودن

        # بررسی فرمت تصویر (فقط .png و .jpg مجاز هستند)
        if not img_url.endswith(('.png', '.jpg')):
            continue  # اگر فرمت تصویر معتبر نیست، ادامه بده

        # استخراج نام فایل از URL
        img_name = os.path.basename(img_url)
        
        # حذف کاراکترهای غیرمجاز از نام فایل
        img_name = re.sub(r'[<>:"/\\|?*]', '_', img_name)  # جایگزینی کاراکترهای نامعتبر با '_'

        # مسیر کامل ذخیره فایل
        img_path = os.path.join(folder_name, img_name)

        # دانلود و ذخیره تصویر
        try:
            img_data = requests.get(img_url).content
            with open(img_path, 'wb') as f:
                f.write(img_data)  # نوشتن داده‌های تصویر در فایل
            print(f'تصویر دانلود شد: {img_path}')  # پیام موفقیت
        except requests.exceptions.RequestException as e:
            print(f'خطا در دانلود {img_url}: {e}')  # پیام خطا در صورت مشکل

# گرفتن ورودی آدرس سایت و نام فولدر از کاربر
website_url = input("آدرس وب‌سایت را وارد کنید: ")  # آدرس وب‌سایت
folder_name = input("نام فولدر برای ذخیره تصاویر را وارد کنید: ")  # نام فولدر برای ذخیره تصاویر

# فراخوانی تابع برای دانلود تصاویر
download_images(website_url, folder_name)

```
